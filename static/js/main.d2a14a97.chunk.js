(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{41:function(e,t,a){e.exports=a(69)},68:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(34),c=a.n(i),o=a(12),l=a(14),u=a(18),s=a(15),m=a(19),h=a(16),p=function(){return r.a.createElement("header",{className:"mb-3"},r.a.createElement("h1",{className:"text-primary text-center"},"Weather app"))},d=a(24),f=a(23),g=a(38),y=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={location:""},a.handleChange=function(e){var t=e.target;a.setState({location:t.value})},a.handleSubmit=function(e){e.preventDefault(),a.props.onSubmit(a.state.location),a.setState({location:""})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.location;return r.a.createElement(d.a,{onSubmit:this.handleSubmit},r.a.createElement(f.a,null,r.a.createElement(d.a.Control,{type:"search",onChange:this.handleChange,value:e,placeholder:"get forecast.."}),r.a.createElement(f.a.Append,null,r.a.createElement(g.a,{variant:"danger",type:"submit"},"Search"))))}}]),t}(r.a.Component),E=function(e){var t=e.current,a=e.hourly;return r.a.createElement(h.a,{fluid:!0},r.a.createElement("div",{className:"mt-3"},r.a.createElement("h4",null,"Current:"),t),r.a.createElement("div",{className:"forecast-hourly"},r.a.createElement("h4",null,"Forecast:"),a))},v=a(11),b=a.n(v),w=a(13),x=a(36),O=a.n(x),j=a(72),k=a(70),C=a(71),S=function(e){var t=new Date(1e3*e),a=I(t.getHours()),n=I(t.getMinutes());return"".concat(a,":").concat(n)},I=function(e){return e.toString().length<2&&(e="0"+e),e},N=function e(){var t=this;Object(o.a)(this,e),this._apiBase="https://api.openweathermap.org/data/2.5",this._apiKey="e6bc569497f75fdbd9c1b2e6a2537e83",this._iconBase="http://openweathermap.org/img/wn",this.getResource=function(){var e=Object(w.a)(b.a.mark((function e(a){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.create({baseURL:t._apiBase}).get("".concat(a,"&mode=json&units=metric&appid=").concat(t._apiKey)).catch((function(e){return console.log("Error: ",e)}));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getForecast=function(){var e=Object(w.a)(b.a.mark((function e(a){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/forecast?q=".concat(a));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getCurrent=function(){var e=Object(w.a)(b.a.mark((function e(a){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/weather?q=".concat(a));case 2:return n=e.sent,e.abrupt("return",t._simplifyObjCurrent(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getCurrentTest=function(){var e=Object(w.a)(b.a.mark((function e(a){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/weather?q=".concat(a));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getById=function(e){return t.getResource("/forecast?id=".concat(e))},this._simplifyObjCurrent=function(e){return{id:e.id,coord:e.coord,humidity:e.main.humidity,pressure:e.main.pressure,name:e.name,clouds:e.clouds.all,country:e.sys.country,descr:e.weather[0].description,visibility:e.visibility,windSpeed:e.wind.speed,windDeg:e.wind.deg,timezone:e.timezone,sunrise:S(e.sys.sunrise),sunset:S(e.sys.sunset),temp:Math.round(e.main.temp),tempMin:Math.round(e.main.temp_min),tempMax:Math.round(e.main.temp_max),iconUrl:t._getIconUrl(e.weather[0].icon)}},this._getIconUrl=function(e){return"".concat(t._iconBase,"/").concat(e,"@2x.png")}},L=a(7),_=a(17);function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function R(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var M=r.a.createElement("g",{transform:"rotate(0 50 50)"},r.a.createElement("rect",{x:47,y:24,rx:3,ry:6,width:6,height:12,fill:"#e74c3c"},r.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"0.625s",begin:"-0.5729166666666666s",repeatCount:"indefinite"}))),D=r.a.createElement("g",{transform:"rotate(30 50 50)"},r.a.createElement("rect",{x:47,y:24,rx:3,ry:6,width:6,height:12,fill:"#e74c3c"},r.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"0.625s",begin:"-0.5208333333333333s",repeatCount:"indefinite"}))),B=r.a.createElement("g",{transform:"rotate(60 50 50)"},r.a.createElement("rect",{x:47,y:24,rx:3,ry:6,width:6,height:12,fill:"#e74c3c"},r.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"0.625s",begin:"-0.46874999999999994s",repeatCount:"indefinite"}))),P=r.a.createElement("g",{transform:"rotate(90 50 50)"},r.a.createElement("rect",{x:47,y:24,rx:3,ry:6,width:6,height:12,fill:"#e74c3c"},r.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"0.625s",begin:"-0.41666666666666663s",repeatCount:"indefinite"}))),z=r.a.createElement("g",{transform:"rotate(120 50 50)"},r.a.createElement("rect",{x:47,y:24,rx:3,ry:6,width:6,height:12,fill:"#e74c3c"},r.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"0.625s",begin:"-0.36458333333333326s",repeatCount:"indefinite"}))),A=r.a.createElement("g",{transform:"rotate(150 50 50)"},r.a.createElement("rect",{x:47,y:24,rx:3,ry:6,width:6,height:12,fill:"#e74c3c"},r.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"0.625s",begin:"-0.31249999999999994s",repeatCount:"indefinite"}))),H=r.a.createElement("g",{transform:"rotate(180 50 50)"},r.a.createElement("rect",{x:47,y:24,rx:3,ry:6,width:6,height:12,fill:"#e74c3c"},r.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"0.625s",begin:"-0.26041666666666663s",repeatCount:"indefinite"}))),U=r.a.createElement("g",{transform:"rotate(210 50 50)"},r.a.createElement("rect",{x:47,y:24,rx:3,ry:6,width:6,height:12,fill:"#e74c3c"},r.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"0.625s",begin:"-0.20833333333333331s",repeatCount:"indefinite"}))),W=r.a.createElement("g",{transform:"rotate(240 50 50)"},r.a.createElement("rect",{x:47,y:24,rx:3,ry:6,width:6,height:12,fill:"#e74c3c"},r.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"0.625s",begin:"-0.15624999999999997s",repeatCount:"indefinite"}))),F=r.a.createElement("g",{transform:"rotate(270 50 50)"},r.a.createElement("rect",{x:47,y:24,rx:3,ry:6,width:6,height:12,fill:"#e74c3c"},r.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"0.625s",begin:"-0.10416666666666666s",repeatCount:"indefinite"}))),q=r.a.createElement("g",{transform:"rotate(300 50 50)"},r.a.createElement("rect",{x:47,y:24,rx:3,ry:6,width:6,height:12,fill:"#e74c3c"},r.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"0.625s",begin:"-0.05208333333333333s",repeatCount:"indefinite"}))),J=r.a.createElement("g",{transform:"rotate(330 50 50)"},r.a.createElement("rect",{x:47,y:24,rx:3,ry:6,width:6,height:12,fill:"#e74c3c"},r.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"0.625s",begin:"0s",repeatCount:"indefinite"}))),K=function(e){var t=e.svgRef,a=e.title,n=R(e,["svgRef","title"]);return r.a.createElement("svg",T({style:{margin:"auto",background:"none",display:"block",shapeRendering:"auto"},width:"104px",height:"104px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",ref:t},n),a?r.a.createElement("title",null,a):null,M,D,B,P,z,A,H,U,W,F,q,J)},G=r.a.forwardRef((function(e,t){return r.a.createElement(K,T({svgRef:t},e))})),Y=(a.p,function(e){var t=e.data,a=e.loading;if(a)return r.a.createElement(G,null);if(!t&&!a)return null;var n=t.name,i=t.country,c=t.descr,o=t.timezone,l=t.iconUrl,u=t.pressure,s=t.humidity,m=t.sunrise,h=t.sunset,p=t.temp,d=t.coord;return r.a.createElement(L.a,{horizontal:!0,style:{overflow:"auto"}},r.a.createElement(L.a.Item,null,r.a.createElement(_.a.Img,{src:l,style:{minHeight:"99px",minWidth:"99px"}})),r.a.createElement(L.a.Item,{className:"font-weight-bold"},n,", ",i),r.a.createElement(L.a.Item,null,p," \u2103"),r.a.createElement(L.a.Item,null,c),r.a.createElement(L.a.Item,null,"Pressure: ",u," hpa"),r.a.createElement(L.a.Item,null,"Humidity: ",s,"%"),r.a.createElement(L.a.Item,null,"Sunrise: ",m),r.a.createElement(L.a.Item,null,"Sunset: ",h),r.a.createElement(L.a.Item,null,"Timezone: ",o),d&&r.a.createElement(L.a.Item,null,"Geo coord: [",d.lat,",",d.lat,"]"))}),$=a(2),Q=a.n($),V=a(37),X=a(39),Z=function(e){var t=e.type,a=Object(X.a)(e,["type"]);return r.a.createElement("img",Object.assign({src:"".concat("http://openweathermap.org/img/wn/").concat(t,"@2x.png"),alt:"icon"},a))},ee={width:"18%",listStyle:"none",flexWrap:"wrap"},te=function(e){var t=e.data,a=function(e){return Object(C.a)(new Date(e),"PPP")}(t[0].dt_txt);return r.a.createElement(L.a,{style:ee},r.a.createElement(_.a.Header,{className:"bg-danger text-light"},a),t.map((function(e){var t=e.dt_txt,a=e.main,n=e.weather,i=e.wind,c=e.clouds,o=function(e){var t=new Date(e).getHours().toString();return t.length<2&&(t="0"+t),t+":00"}(t),l=Q()({success:a.temp>=1,dark:a.temp<1});return r.a.createElement(L.a.Item,{key:123*Math.random()},o,r.a.createElement(Z,{type:n[0].icon}),r.a.createElement(L.a,{variant:"flush"},r.a.createElement(L.a.Item,null,r.a.createElement(V.a,{variant:l},a.temp,"\u2103")),r.a.createElement(L.a.Item,null,n[0].description),r.a.createElement(L.a.Item,null,"wind: ",i.speed,"m/s"),r.a.createElement(L.a.Item,null,"clouds: ",c.all,"%"),r.a.createElement(L.a.Item,null,"Pressure: ",a.pressure," hpa")))})))},ae={display:"flex",justifyContent:"space-between",marginTop:"20px"},ne=function(e){var t=e.data,a=e.loading;return a?r.a.createElement(G,null):t||a?r.a.createElement("div",{style:ae},function(e){for(var t=[],a=new Date(e[0].dt_txt.split(" ")[0]),n=0;n<5;n++){var r=e.filter((function(e){return Object(j.a)(new Date(e.dt_txt.split(" ")[0]),a)}));t.push(r),a=Object(k.a)(new Date(a),1)}return t}(t).map((function(e){return r.a.createElement(te,{data:e,key:52*Math.random()+2})}))):null},re=(a(68),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).service=new N,a.state={location:"",current:null,items:null,currentLoading:!1,forecastLoading:!1,error:!1},a.onError=function(e){return a.setState({error:!0,loading:!0})},a.onSearchLocation=function(e){var t=a.service,n=t.getForecast,r=t.getCurrent;a.setState({currentLoading:!0,forecastLoading:!0}),r(e).then((function(e){return a.setState({current:e,currentLoading:!1})})).catch(a.onError),n(e).then((function(e){var t=e.list;return a.setState({items:t,forecastLoading:!1})})).catch(a.onError)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.service,a=t.getForecast,n=t.getCurrent;this.setState({currentLoading:!0,forecastLoading:!0}),n("Lviv").then((function(t){return e.setState({current:t,currentLoading:!1})})).catch(this.onError),a("Lviv").then((function(t){return e.setState({items:t.list,forecastLoading:!1})})).catch(this.onError)}},{key:"render",value:function(){var e=this.state,t=e.current,a=e.items,n=e.currentLoading,i=e.forecastLoading;return e.error?r.a.createElement("h4",{className:"text-primary text-center my-4"},"Ooops! something went wrong!"):r.a.createElement("div",{className:"App"},r.a.createElement(h.a,null,r.a.createElement(p,null),r.a.createElement(y,{onSubmit:this.onSearchLocation,onChange:this.handleChange})),r.a.createElement(E,{current:r.a.createElement(Y,{data:t,loading:n}),hourly:r.a.createElement(ne,{data:a,loading:i})}))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(re,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[41,1,2]]]);
//# sourceMappingURL=main.d2a14a97.chunk.js.map